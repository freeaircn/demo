(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-431f"],{I9aA:function(e,t,a){"use strict";var i=a("azw1");a.n(i).a},KRkD:function(e,t,a){},Svx8:function(e,t,a){"use strict";a.r(t);var i=a("fe1z"),n=a("42cJ"),r=a("bPQK"),o={name:"ActiveMail",data:function(){var e=r.a.REGEX_POHONE,t=r.a.REGEX_MAIL;return{activeMailForm:{userphone:"",email:""},activeMailRules:{userphone:[{required:!0,trigger:"change",validator:function(t,a,i){""===a?i(new Error("请输入手机号！")):e.test(a)?i():i(new Error("请输入11位有效的手机号！"))}}],email:[{required:!0,trigger:"change",validator:function(e,a,i){""===a?i(new Error("请输入电子邮箱！")):t.test(a)?i():i(new Error("邮箱地址有误！"))}}]},loading:!1,show_contents:0,mailServerUrl:"",btn_name:"返回登录页面",redirect:void 0}},computed:{emailLowcase:function(){return this.activeMailForm.email.toLowerCase()}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{handleSendActiveMail:function(){var e=this;this.$refs.activeMailForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0;var a=e.activeMailForm.userphone,o=e.emailLowcase;Object(i.f)(a,o).then(function(t){if(console.log(t),e.loading=!1,e.$message({type:"info",message:t.msg,duration:3e3}),t.code===n.a.USERS_ACTIVATE_USER_BEEN_ACTIVATED&&(e.show_contents=1),t.code===n.a.SUCCESS){e.btn_name="返回登录页面";var a=/@([a-z1-9]{2,3})/.exec(e.emailLowcase);null!==a&&"@163"===a[0]&&(e.mailServerUrl=r.a.MAIL_163_URL,e.btn_name="登录邮箱"),null!==a&&"@126"===a[0]&&(e.mailServerUrl=r.a.MAIL_126_URL,e.btn_name="登录邮箱"),null!==a&&"@qq"===a[0]&&(e.mailServerUrl=r.a.MAIL_QQ_URL,e.btn_name="登录邮箱"),e.show_contents=2}}).catch(function(t){e.loading=!1,console.log(t)})})},handleGotoLogin:function(){this.$router.push({name:"login"})},handleGoback:function(){this.$refs.activeMailForm.resetFields(),this.show_contents=0},handleGotoMailBox:function(){""===this.mailServerUrl?this.$router.push({name:"login"}):(this.$refs.activeMailForm.resetFields(),window.location.replace(this.mailServerUrl),this.mailServerUrl="")}}},l=(a("UxH4"),a("I9aA"),a("KHd+")),s=Object(l.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"active-mail-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.show_contents,expression:"show_contents === 0"}]},[a("el-form",{ref:"activeMailForm",staticClass:"active-mail-form",attrs:{model:e.activeMailForm,rules:e.activeMailRules,"label-position":"left"}},[a("h3",{staticClass:"title"},[e._v("激 活")]),e._v(" "),a("el-form-item",{attrs:{prop:"userphone"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"icon_mobilephone"}})],1),e._v(" "),a("el-input",{attrs:{name:"userphone",type:"text",placeholder:"输入注册的手机号",clearable:""},model:{value:e.activeMailForm.userphone,callback:function(t){e.$set(e.activeMailForm,"userphone",t)},expression:"activeMailForm.userphone"}})],1),e._v(" "),a("el-form-item",{ref:"email",attrs:{prop:"email"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"icon_dmail_fill"}})],1),e._v(" "),a("el-input",{attrs:{name:"email",type:"text",placeholder:"输入注册的电子邮箱",clearable:""},model:{value:e.activeMailForm.email,callback:function(t){e.$set(e.activeMailForm,"email",t)},expression:"activeMailForm.email"}})],1),e._v(" "),a("div",{staticStyle:{margin:"0px 0px 15px 0px",color:"#409EFF"}},[a("router-link",{attrs:{to:"/login"}},[e._v("去登录")])],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleSendActiveMail(t)}}},[e._v("发送激活邮件")])],1),e._v(" "),a("div",{staticClass:"tips"},[a("span",{staticStyle:{"margin-right":"20px"}},[e._v(":)")])])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.show_contents,expression:"show_contents === 1"}]},[a("div",{staticClass:"active-mail-form"},[a("h3",{staticClass:"title"},[e._v("激 活")]),e._v(" "),a("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleGotoLogin(t)}}},[e._v("去登录")]),e._v(" "),a("hr",{attrs:{align:"center",width:"100%",color:"#DCDFE6",size:"1"}}),e._v(" "),a("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleGoback(t)}}},[e._v("返回激活其他账号")])],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2===e.show_contents,expression:"show_contents === 2"}]},[a("div",{staticClass:"active-mail-form"},[a("h3",{staticClass:"title"},[e._v("激 活")]),e._v(" "),a("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleGotoMailBox(t)}}},[e._v(e._s(e.btn_name))]),e._v(" "),a("hr",{attrs:{align:"center",width:"100%",color:"#DCDFE6",size:"1"}}),e._v(" "),e._m(0)],1)])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tips"},[t("span",{staticStyle:{margin:"20px 0px 20px 0px","text-align":"left"}},[this._v("请用户登录自己的邮箱，点击激活邮件中的链接激活账号")])])}],!1,null,"f7f1e1b4",null);s.options.__file="index.vue";t.default=s.exports},UxH4:function(e,t,a){"use strict";var i=a("KRkD");a.n(i).a},azw1:function(e,t,a){},bPQK:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var i={REGEX_POHONE:/^[1][0-9]$/,REGEX_MAIL:/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/,REGEX_PASSWORD:/^[0-9a-zA-Z]+$/,REGEX_ZH_CHAR:/^([\u4e00-\u9fa5]){2,5}$/,MAIL_163_URL:"https://mail.163.com",MAIL_126_URL:"https://mail.126.com",MAIL_QQ_URL:"https://mail.qq.com"}}}]);